<html>
    <body>
<div *ngIf="user === null || loggedIn === false" style="text-align: center;">
    <br><p><strong>Please log in to view your planner!</strong></p>
</div>

<div *ngIf="loggedIn === true">
    <h3 style="text-align: center;">Grocery List Items</h3>
    <br>
</div>

<div *ngIf="loggedIn === true" style="text-align: left;">
    <table id ="GroceryList" class='table table-striped'>     
        <thead>
            <td><strong>Food Name</strong></td>
            <td><strong>Food Category</strong></td>
            <td><strong>Recipe</strong></td>
        </thead>
        
        <tr *ngFor="let g of favoriteGroceryItemsByUser; index as i" style="text-align: left;">

                <td  *ngIf="isEdited[i] === false"><input type="checkbox"> {{g.quantity}} {{g.measure}} of {{g.food}}</td> 
                <td  *ngIf="isEdited[i] === false">{{g.foodCategory}}</td>
                <td *ngIf="isEdited[i] === false">from {{recipeNames[i]}}</td>
<!-- 
                <td *ngIf="isEdited[i] === false"></td>
                <td *ngIf="isEdited[i] === false"></td> -->

                    <button (click)="openEditTray(i, g.food, g.measure, g.quantity, g.foodCategory)" *ngIf="isEdited[i] === false">
                        <img src="https://cdn-icons-png.flaticon.com/512/7413/7413873.png" 
                        width="35" 
                        height="35">
                    </button>

                    &nbsp; &nbsp;

                    <button (click)="deleteIngredient(g.id, i)" *ngIf="isEdited[i] === false">
                        <img src="https://www.pngkey.com/png/full/16-161807_free-icons-png-red-trash-can-icon.png" 
                        width="35"
                        height="35">
                    </button>

                    <td *ngIf="isEdited[i] === true">Amount: <input class="input" type="text" [(ngModel)]="ingToUpdate.quantity"></td>
                    <td *ngIf="isEdited[i] === true">Measurement: <input class="input" type="text" [(ngModel)]="ingToUpdate.measure"></td>
                    <td *ngIf="isEdited[i] === true">Ingredient: <input class="input" type="text" [(ngModel)]="ingToUpdate.food"></td> 
                    
                    <td><button *ngIf="isEdited[i] === true" (click)="closeEditTray(i)">Cancel</button></td>
                    <td><button *ngIf="isEdited[i] === true" (click)="editIngredient(g.id , i)" >Submit</button></td>
            </tr>
<!-- 
            <tr *ngIf="isEdited[i] === true">
                <td >Amount: <input class="input" type="text" [(ngModel)]="ingToUpdate.quantity"></td>
                <td >Measurement: <input class="input" type="text" [(ngModel)]="ingToUpdate.measure"></td>
                <td >Ingredient: <input class="input" type="text" [(ngModel)]="ingToUpdate.food"></td>
                <button (click)="closeEditTray(i)" *ngIf="isEdited[i] === true">Cancel</button>
                &nbsp; &nbsp;
                <button (click)="editIngredient(g.id , i)" *ngIf="isEdited[i] === true">Submit</button>
                <br><br>
            </tr> -->
    </table>
</div>
<br><br><br>
<div style="text-align: center;">
    <button *ngIf="loggedIn === true" (click)="deleteAllIngredients()">Delete All Ingredients</button>
</div>

</body>
</html>